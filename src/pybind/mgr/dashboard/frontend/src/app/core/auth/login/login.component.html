<div class="container"
     *ngIf="isLoginActive">
  <form name="loginForm"
        (ngSubmit)="login()"
        #loginForm="ngForm"
        novalidate>

    <!-- Username -->
    <div class="form-group has-feedback d-flex flex-column py-3">
      <label class="placeholder pl-4"
             for="username"
             i18n>Username</label>
      <input id="username"
             name="username"
             [(ngModel)]="model.username"
             #username="ngModel"
             type="text"
             [attr.aria-invalid]="username.invalid"
             aria-labelledby="username"
             class="form-control pl-4"
             required
             autofocus>
      <div class="invalid-feedback pl-4"
           *ngIf="(loginForm.submitted || username.dirty) && username.invalid"
           i18n>Username is required</div>
    </div>

    <!-- Password -->
    <div class="form-group has-feedback"
         id="password-div">
      <div class="input-group d-flex flex-nowrap">
        <div class="d-flex flex-column flex-grow-1 py-3">
          <label class="placeholder pl-4"
                 for="password"
                 i18n>Password</label>
          <input id="password"
                 name="password"
                 [(ngModel)]="model.password"
                 #password="ngModel"
                 type="password"
                 [attr.aria-invalid]="password.invalid"
                 aria-labelledby="password"
                 class="form-control pl-4"
                 required>
          <div class="invalid-feedback pl-4"
               *ngIf="(loginForm.submitted || password.dirty) && password.invalid"
               i18n>Password is required</div>
        </div>
        <span class="form-group-append">
          <button type="button"
                  class="btn btn-outline-light btn-password h-100 px-4"
                  cdPasswordButton="password">
          </button>
        </span>
      </div>
    </div>

    <p *ngIf="invalidAttemptsCount > 6 && validAttemptsCount > 0"
       i18n><b>You have entered invalid credentials {{ invalidAttemptsCount }} times consecutively since your last successful login. You have {{ validAttemptsCount }} attempts left.</b></p>
    <p *ngIf="disableUser"
       i18n><b>Sorry your account has been locked due to multiple login failures. Please contact the administrator for further assistance.</b></p>
    <p *ngIf="waitUser && invalidAttemptsCount < 10"
       i18n><b>Please try again in some time.</b></p>

    <input type="submit"
           class="btn btn-accent px-5 py-2"
           [disabled]="loginForm.invalid || disableUser || waitUser"
           value="Login"
           i18n-value>
  </form>
</div>
